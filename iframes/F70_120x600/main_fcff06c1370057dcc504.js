var __webpack_modules__={211:function(e,t,i){e.exports=i.p+"info_f165e990cb9c6715ec2aa2fb0c5064ea.svg"},225:function(e,t,i){e.exports=i.p+"title_b280da5ce02e050eef736337b6a5d846.css"},291:function(e,t,i){e.exports=i.p+"bmw_681c04a55c13761bd71a93959938df4b.svg"},432:function(e,t,i){e.exports=i.p+"style_e754610fc696a64c4ec2f8a7b66fcb07.css"},536:function(e,t,i){e.exports=i.p+"custom_689c73fda45392dd4062833b959a02cf.css"},697:function(e,t,i){e.exports=i.p+"120x600_8b05c1be96359613a5a20af08e1455be.jpg"},733:function(e,t,i){e.exports=i.p+"fonts_714ea701df90aff75878a2cc74f2e0d5.css"},753:function(e,t,i){e.exports={settings:{maxFileSize:"300",optimizeToFileSize:!0,optimizeUncompressed:"TRUE",type:"adform",clickTags:{clickTAG:"https://www.bmw.com/"},info:{ClickTAG:"https://www.bmw.com/","ClickTAG Type":"adform"},client:"./bmw.svg",controlsOff:!1,bundleName:"UK_bann_F70_120x600_-_-_RFI_NA_NA_ENG_-",optimizations:{css:!0,image:!1,html:!0,js:!0},useOriginalFileNames:!1,entry:{js:"./main.js",html:"./index.hbs"},fonts:[{sources:["./BMWTypeNextPro-Light.woff"],subset:{glyphs:["content.frames.frame0.title","content.frames.frame1.title","content.frames.frame2.title","content.frames.frame3.title","content.frames.frame0.subTitle","content.frames.frame1.subTitle","content.frames.frame2.subTitle","content.frames.frame3.subTitle","content.frames.frame0.hashtag","content.frames.frame1.hashtag","content.frames.frame2.hashtag","content.frames.frame3.hashtag","content.disclaimer.txt","content.cta"]}},{sources:["./BMWTypeNextPro-Regular.woff"],subset:{glyphs:["content.disclaimer.txt","/Users/xaviergarcia/Documents/Woodworks/tme-bmwmini-production-assets-and-t-211011176-templates/src/shared"]}},{sources:["./BMWTypeNextPro-Bold.woff"],subset:{glyphs:["content.cta","/Users/xaviergarcia/Documents/Woodworks/tme-bmwmini-production-assets-and-t-211011176-templates/src/shared"]}}],size:{width:120,height:600}},content:{cssFonts:i(733),cssTitle:i(225),css:i(432),clickTag:"https://www.bmw.com/",info:i(211),colors:{cta:"#1c69d4",ctaHover:"#0653b6"},customCSS:i(536),bundleName:"UK_bann_F70_120x600_-_-_RFI_NA_NA_ENG_-",isEnabled:"TRUE",maxSize:"300",optimizeUncompressed:"TRUE",clickTagType:"adform",zoom:"not_zoomed",Country:"UK",Brand:"BMW",AdType:"bann",Model:"BMW 4 Series Gran Coupe (G26)",ProductCode:"F70",dimensions:"120x600",CreativeAsset:"-",CreativeID:"-",CTA:"RFI","DAM-ID":"NA",Duration:"NA",Language:"ENG",FreeText1:"-",root_folder:"/Users/xaviergarcia/Documents/Woodworks/tme-bmwmini-production-assets-and-t-211011176-templates/src/shared/img/F70",frames:{frame0:{title:"THE 1 SERIES.",size:"6",align:"",horizontal:"",subTitle:"NOW AVAILABLE WITH A COMPELLING 4.9% APR REPRESENTATIVE.",visual:i(697),logo:i(291),hashtag:"",extraLogo:"",guideImg:""},frame1:{title:"",size:"",align:"",horizontal:"",subTitle:"",visual:"",logo:"",guideImg:""},frame2:{title:"",size:"",align:"",horizontal:"",subTitle:"",visual:"",logo:"",guideImg:""},frame3:{title:"",size:"",align:"",horizontal:"",subTitle:"",visual:"",logo:"",guideImg:""}},disclaimer:{btnTxt:"",type:"default",img:"",txt:"BMW (UK) Ltd is a credit broker not a lender. Ts&Cs apply."},showDisclaimerOnComplete:"FALSE",frameCtaAppears:"first",cta:"Request a quote",offsetTop:"40",passepartout:"10",x:"22"},uniqueHash:"./src/120x600/.googlesheet.UK_bann_F70_120x600_-_-_RFI_NA_NA_ENG_-"}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var i=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](i,i.exports,__webpack_require__),i.exports}__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=function(e,t){for(var i in t)__webpack_require__.o(t,i)&&!__webpack_require__.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",function(){"use strict";const e=/(frame)(\d+)(In|Out|)$/,t=new Promise(e=>{window.addEventListener("previewReady",e)});class i{__gatherAnimation(){const t=this;let i=[],n=this;do{i=i.concat(Object.getOwnPropertyNames(n))}while(n=Object.getPrototypeOf(n));const o=[];return i.forEach(i=>{const n=e.exec(i);if(null!==n){let[e,a]=n.splice(2);e=parseInt(e,10),a=`${a}`.toLowerCase(),""===a&&(a="base");const s=t[i];s&&(o[e]||(o[e]={in:null,base:null,out:null}),o[e][a]=s)}}),o}__createTimeline(e=gsap.timeline()){const t=this.__gatherAnimation();for(let i=0;i<t.length;i++)if(t[i]){if(t[i].in){const n=t[i].in.call(this,e);n&&e.add(n)}if(t[i].base){const n=t[i].base.call(this,e);n&&e.add(n)}if(t[i].out){const n=t[i].out.call(this,e);n&&e.add(n)}}return e.eventCallback("onStart",this.timelineOnStartHandler),e}getTimeline(e=gsap.timeline()){return this.__timeline||(this.__timeline=this.__createTimeline(e)),this.__timeline}timelineOnStartHandler(){"CustomEvent"in window&&"function"==typeof window.CustomEvent&&(window.dispatchEvent(new CustomEvent("getMainTimeline",{detail:this})),t.then(()=>window.dispatchEvent(new CustomEvent("getMainTimeline",{detail:this}))))}play(e=gsap.timeline()){this.getTimeline(e).play()}}var n=Object.defineProperty,o=(e,t,i)=>(((e,t,i)=>{t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i})(e,"symbol"!=typeof t?t+"":t,i),i);class a extends i{constructor(e,t){super(),o(this,"createMainTimeline",e=>{const t=gsap.timeline(e);let i;this.checkDisclaimer(),this.checkImgInitialSize(),"zoomed_in"===this.config.content.zoom?i=`translateY(-50%) translateX(-50%) scale(${1/1.1})`:"zoomed_out"===this.config.content.zoom&&(i="translateY(-50%) translateX(-50%) scale(1.1)");let n=0;const o=this.config.content.frames,a=document.querySelectorAll(".frames .frame").length,r=Number(this.config.content.frameCtaAppears.replace("last",a-1).replace("first",0));t.to(".content",{duration:.25,opacity:1});for(let e in o){const c=n-1,l=document.querySelector(`.frame--${n}`),m=o[e],u=o[`frame${c}`],d=(null==l?void 0:l.querySelector.bind(l))||document.querySelector.bind(document);m.visual&&(i&&t.from(d(".visual"),{duration:3,transform:i,force3D:!0,rotationZ:"0.01deg",z:.01,ease:"power1.out"},"<"),t.from(l,{opacity:0},"<")),m.guideImg&&n>0&&(t.to(`.guideImg--${c}`,{opacity:0,duration:0},">"),t.to(d(".guideImg"),{opacity:.7,duration:0},">")),0==n&&m.logo&&t.from(d(".logo"),{opacity:0},">-0.25"),0==n&&m.extraLogo&&t.from(d(".extraLogo"),{opacity:0},">-0.25"),m.title&&(0!=n&&m.title==u.title||t.from(d(".title"),{opacity:0},">-0.25")),m.subTitle&&(0!=n&&m.subTitle==u.subTitle&&s(`.title--${n}`).height==s(`.title--${c}`).height||t.from(d(".subTitle"),{opacity:0},">-0.25")),m.hashtag&&(0!=n&&m.hashtag==u.hashtag||t.from(d(".hashtag"),{opacity:0},">-0.25")),this.config.content.disclaimer.txt&&n===r&&"default"===this.config.content.disclaimer.type&&t.from(".disclaimer",{opacity:0},">-0.25"),this.config.content.cta&&n===r&&t.from(".cta",{opacity:0},">-0.25"),n+1<a&&t.add(()=>{},"+=2"),n++}return"default"!==this.config.content.disclaimer.type&&"TRUE"===this.config.content.showDisclaimerOnComplete&&(t.to(".disclaimer",{opacity:1,duration:.5},">+2"),t.to(".disclaimer",{opacity:0,duration:.5,delay:3},">")),"default"!==this.config.content.disclaimer.type&&t.from(".info, .disclaimerBtn",{opacity:0,onStart:()=>{document.querySelector(".info, .disclaimerBtn").classList.remove("pe-none")}},">"),t}),o(this,"checkImgInitialSize",()=>{"zoomed_in"===this.config.content.zoom&&this.banner.classList.add("banner--imgSizeIncreased")}),o(this,"checkDisclaimer",()=>{if("default"==this.config.content.disclaimer.type)return;const e=document.querySelector(this.config.content.disclaimer.btnTxt?".disclaimerBtn span":".info"),t=gsap.timeline({paused:!0});"popup"===this.config.content.disclaimer.type?t.to(".disclaimer",{yPercent:0,duration:.5}):"fullscreen"===this.config.content.disclaimer.type&&t.to(".disclaimer",{opacity:1,duration:.5});window.matchMedia("(hover: none)").matches?(this.infoClick=!1,e.addEventListener("click",e=>{e.preventDefault(),this.infoClick?t.reverse():t.play(),this.infoClick=!this.infoClick})):(e.addEventListener("mouseover",()=>{t.play()}),e.addEventListener("mouseout",()=>{t.reverse()}))}),o(this,"createCtaTimeline",e=>{const t=gsap.timeline(e);return t.to(".cta",{backgroundColor:this.config.content.colors.ctaHover,ease:"cubic.out",duration:.2}),t}),this.container=e,this.config=t,this.size=this.config.settings.size.width+"x"+this.config.settings.size.height,this.banner=document.querySelector(".banner"),gsap.defaults({ease:"power2.inOut",duration:1})}}function s(e){return window.getComputedStyle(document.querySelector(e))}function r(e,t={}){return new Promise((i,n)=>{const o=document.head||document.querySelector("head"),a=document.createElement("script");a.type=t.type||"text/javascript",a.charset=t.charset||"utf8",a.async=!0,a.onload=function(){this.onerror=this.onload=null,i(a)},a.onerror=function(){this.onerror=this.onload=null,n(new Error(`Failed to load ${this.src}`),a)},a.src=e,o.appendChild(a)})}const c=/\.json$/,l=/\.js$/,m=/\.(png|gif|jpg|jpeg|svg)$/;function u(e){switch(!0){case c.test(e):case l.test(e):return r(e);case m.test(e):return t=e,new Promise((e,i)=>{const n=document.createElement("img");n.onload=function(){e(this)},n.onerror=i,n.dataset.src=t,n.src=t});default:return function(e){return fetch(e).then(e=>e.text())}(e)}var t}function d(e){return t=this,i=null,n=function*(){const t=Array.from(e.querySelectorAll("img[data-src]")),i=t.map(e=>e.getAttribute("data-src")),n=yield function(e,t=!1,i=u){return t?e.reduce((e,t)=>e.then(()=>i(t)),Promise.resolve(!0)):Promise.all(e.map(e=>i(e)))}(i);for(n.forEach((e,i)=>{t[i].src=e.src});n.length;)n.pop()},new Promise((e,o)=>{var a=e=>{try{r(n.next(e))}catch(e){o(e)}},s=e=>{try{r(n.throw(e))}catch(e){o(e)}},r=t=>t.done?e(t.value):Promise.resolve(t.value).then(a,s);r((n=n.apply(t,i)).next())});var t,i,n}var h=Object.defineProperty,f=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,_=(e,t,i)=>t in e?h(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;function b(e,t){const i={duration:e.duration(),width:t.settings.size.width,height:t.settings.size.height};window.postMessage(((e,t)=>{for(var i in t||(t={}))p.call(t,i)&&_(e,i,t[i]);if(f)for(var i of f(t))g.call(t,i)&&_(e,i,t[i]);return e})({name:"animation-ready"},i)),window.addEventListener("message",t=>{const{data:i}=t;"request-goto-frame"===i.name&&(e.pause(i.frame/1e3,!1),window.postMessage({name:"current-frame",frame:i.frame}))})}var w=Object.defineProperty,y=(e,t,i)=>(((e,t,i)=>{t in e?w(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i})(e,"symbol"!=typeof t?t+"":t,i),i),v=(e,t,i)=>new Promise((n,o)=>{var a=e=>{try{r(i.next(e))}catch(e){o(e)}},s=e=>{try{r(i.throw(e))}catch(e){o(e)}},r=e=>e.done?n(e.value):Promise.resolve(e.value).then(a,s);r((i=i.apply(e,t)).next())});var T=__webpack_require__(753),x=__webpack_require__.n(T);const E=new class{constructor(e){y(this,"exit",()=>{window.exit&&window.exit()}),y(this,"handleExit",()=>{this.mainTimeline.progress(1).pause()}),y(this,"handleClick",()=>{this.exit(),this.handleExit()}),y(this,"handleRollOver",()=>{gsap.isTweening(".cta")||this.ctaTimeline.play()}),y(this,"handleRollOut",()=>{this.ctaTimeline.timeScale(2).reverse()}),this.config=e,this.x=e.content.x,this.unit=this.x/12}init(){return v(this,null,function*(){this.banner=document.body.querySelector(".banner"),yield document.fonts.ready,yield d(this.banner),this.domMainExit=document.body.querySelector(".mainExit"),this.domMainExit.addEventListener("click",this.handleClick),this.domMainExit.addEventListener("mouseover",this.handleRollOver),this.domMainExit.addEventListener("mouseout",this.handleRollOut),this.setBannerStyling(),this.setAnimation()})}setBannerStyling(){}setAnimation(){this.animation=new a(document.querySelector(".banner"),this.config),this.ctaTimeline=this.animation.createCtaTimeline({paused:!0}),this.mainTimeline=this.animation.createMainTimeline({paused:!0}),"socoto"==this.config.content.clickTagType&&(window.tl=this.mainTimeline)}start(){return v(this,null,function*(){const e=new Promise(e=>{window.addEventListener("previewReady",e)});yield this.init(),e.then(()=>window.dispatchEvent(new CustomEvent("getMainTimeline",{detail:this.mainTimeline}))),b(this.mainTimeline,this.config),this.mainTimeline.play()})}}(x());E.start()}();